// Copyright 2019 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// https://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.


// ------------------------------------------ vars
$colorBg: #fafafa
$colorBrandL70: #AA8DD8 // Luminosity 70
$colorBrandL50: #7553ac // L 50
$colorBrandL40: #5e428a // L 40
$colorBrandL30: #463267 // L 30
$colorBrand: $colorBrandL70
$shade10: rgba(0,0,0,0.1)
$shade20: rgba(0,0,0,0.2)
$light50: rgba(255,255,255,0.5)
$light70: rgba(255,255,255,0.7)
$emojiSize: 24px



// ------------------------------------------ reset
html, body, ol 
	margin: 0
	padding: 0
body, input, button 
	font-size: 1rem
button 
	border-radius: 5px 
	cursor: pointer 
	&:disabled
		cursor: default



// ------------------------------------------ Outer containers
body 
	background: $colorBg 
aside 
	width: 300px 
	max-height: 485.410196625px // golden ratio
	font-family: Helvetica, Ubuntu, Arial, sans-serif 
	outline: 1px dashed #ddd // for the dev environment only



// ------------------------------------------ Search Area
.search 
	margin: 0.5rem 
	margin-bottom: 0 
	padding: 0 1rem 
	border-radius: 1rem // half of height
	line-height: 2rem 
	box-shadow: 0 0 0 2px $shade10
	border: none
	&:focus 
		outline: none 
		box-shadow: 0 0 0 2px $colorBrand

input 
	padding: 0 0.5rem 
	min-width: 0 
	&:focus 
		background: white 



// ------------------------------------------ Results Area
.results 
	padding: 0.5rem 1rem 
	padding-bottom: 2px // just enough for focus states to show
	overflow: scroll 

	// want the button for semantics and keyboard nav, not appearance
	button
		background: transparent
		border: none 
		-webkit-appearance: none 
		padding: 0 
		margin: 0 
		height: 100% 
		width: 100%
		font-size: $emojiSize
		&:focus
			outline: none
			border-radius: 2px
			box-shadow: 0 0 0 2px $colorBrand
	ol 
		list-style: none 
		display: grid 
		grid-template-columns: repeat(auto-fill, 2rem) 
		grid-auto-rows: 2rem 
	li 
		text-align: center 

// While search is focused, highlight the first item,
// because "enter" will copy and close
// .search:focus + .results li:first-of-type button
// 	background: $shade10
// ...actually, don't do this.
// it makes it confusing when you hit the right arrow and that selects the 1st item instead of the 2nd one.



// ------------------------------------------ Output / copy area
output
	margin-top: 0
	display: flex
	flex-direction: row-reverse // so the button can be first in tab order but last visually
	height: 3rem
	line-height: 3rem
	padding-left: 0.5rem
	background: white
	flex-shrink: 0

.pseudo-clipboard
	opacity: 0.4
	margin: 10px
	font-size: $emojiSize 
	border: none
	&:focus
		opacity: 1 
button.copy
	background-color: $colorBrandL50
	border: none
	border-bottom: 3px solid $colorBrandL30
	color: white 
	font-weight: 500 
	margin: 0.5rem
	margin-right: 0.75rem // optical align with search box
	padding: 0 0.5rem
	min-width: 5rem
	transition: color ease 200ms
	transition: background-color ease 200ms
	&:disabled
		background: #ddd
		color: $light70
		background-color: $colorBrand
		border-bottom: 3px solid $colorBrandL50
	&:focus
		outline: none
		box-shadow: 0 0 0 2px white, 0 0 0 4px $colorBrand
	// during animation
	// &.copied
		


// ------------------------------------------ css atoms
// .muted
	// color: #999
.flex-kids-y
	display: flex
	flex-direction: column
.flex-1
	flex: 1 1 0
